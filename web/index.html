<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <script>
		 function mostrarTodos() {

                peticion_http = new XMLHttpRequest();

                peticion_http.onreadystatechange = listaTodo;
                peticion_http.open('GET', './libros.xml', true);
                peticion_http.send(null);
            }

            function listaTodo() {

                var titulo = "";
                var txt = "";
                var longitud = 0;
                var txt2 = "";

                if (peticion_http.readyState == 4) {
                    if (peticion_http.status == 200) {
                        var documento_xml = peticion_http.responseXML;
                        var x = documento_xml.getElementsByTagName("Titulo");

                        longitud = x.length;

                        for (var y = 0; y < longitud; y++) {
                            titulo = x[y].firstChild.nodeValue;
                            txt = txt + titulo + "<br>";
                        }
                        txt2 = txt;
                        document.getElementById("respuesta").innerHTML = txt2;
                    }
                }
            }
			
			function mostrarInfantil() {

                peticion_http = new XMLHttpRequest();

                peticion_http.onreadystatechange = listadoInfantil;
                peticion_http.open('GET', './libros.xml', true);
                peticion_http.send(null);

            }

            function listadoInfantil() {

                var txt = "";
                var txt2 = "";
                var longitud = 0;
                var titulo = "";

                if (peticion_http.readyState == 4) {
                    if (peticion_http.status == 200) {
                        var documento_xml = peticion_http.responseXML;
                        var x = documento_xml.getElementsByTagName("Titulo");

                        longitud = x.length;

                        for (var y = 0; y < longitud; y++) {
                            if (x[y].parentNode.nodeName == "Infantil") {
                                titulo = x[y].firstChild.nodeValue;
                                txt = txt + titulo + "<br>";
                            }
                        }
                        txt2 = txt;
                        document.getElementById("respuesta").innerHTML = txt2;
                    }
                }
            }
        </script>

    </head>
    <body>

        <h1>Leer peliculas</h1>

        <input type="button" value="Mostrar todos" onclick="mostrarTodos()"><br><br>
        <input type="button" value="Mostrar infantil" onclick="mostrarInfantil()"><br><br>
        <input type="button" value="Mostrar adultos" onclick="mostrarAdultos()"><br><br>

        <div id="respuesta"></div>

    </body>
</html>
